@{
    ViewBag.Title = "Admin";
}

<p>admin</p>

<ul id="handles">

</ul>

@section Scripts {
   <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.0.1.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>
    <!--SignalR script to update the chat page and send messages.--> 
    <script type="text/javascript">
        $(function () {

            var auth = $.connection.authHub;

            auth.client.addBacklog = function (messages) {
                for (var i = 0; i < messages.length; i++) {
                    $("#handles").append("<li>" + messages[i].name + "</li>");
                }
            };

            // Start the connection
            $.connection.hub.start().done(function () {
                auth.server.admin("lolcats");
            });

        });
    </script>
}